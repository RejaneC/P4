{% extends 'template-admin.html.twig' %}


{% block body %}


<section class="comment">

    <div class="container comment-container">


        <div class="row comment-title mt-5">
            <div class="col-lg-12">
                <h2 class="comment-title-h2 h2 text-center text-uppercase font-weight-bold">Gestion des commentaires</h2>
            </div>
        </div>

        {# Commentaires à valider #}
        <div class="table-responsive mt-5">

            <h3 class="comment-title-h3 h3 mb-4">Validation des commentaires</h3>

                <table class="table table-hover" >

                    <thead>
                        <tr class="font-weight-bold">
                            <th scope="col">Pseudo</th>
                            <th scope="col">Commentaire</th>
                            <th scope="col">Chapitre</th>
                            <th scope="col">Validation</th>
                        </tr>
                    </thead>

                    <tbody>
                        {% for commentsAdmin in commentAdmin  %}
                            {% if commentsAdmin.validate == 0 %}
                                <tr>
                                    <td scope="row">{{ commentsAdmin.pseudo }}</td>
                                    <td>{{ commentsAdmin.content }}</td>
                                    <td>#{{ commentsAdmin.id_chap }}</td>
                                    <td class="table-comment-validate"><a href="/admin/validate-comment/{{ commentsAdmin.id }}" >ACCEPTER</a> - <a href="/admin/remove-comment/{{ commentsAdmin.id }}" >REFUSER</a></td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    </tbody>

                </table>
        </div>


        {# Commentaires signalés à modérer #}
        <div class="table-responsive mt-5">

            <h3 class="comment-title-h3 h3 mb-4 text-left">Modération des commentaires signalés</h3>

                <table class="table table-hover" >

                    <thead>
                        <tr class="font-weight-bold">
                            <th scope="col">Pseudo</th>
                            <th scope="col">Commentaire</th>
                            <th scope="col">Chapitre</th>
                            <th scope="col">Modération</th>
                        </tr>
                    </thead>

                    <tbody>
                        {% for commentsAdmin in commentAdmin  %}
                            {% if commentsAdmin.moderate == 1 %}
                                <tr>
                                    <td scope="row">{{ commentsAdmin.pseudo }}</td>
                                    <td>{{ commentsAdmin.content }}</td>
                                    <td>#{{ commentsAdmin.id_chap }}</td>
                                    <td class="table-comment-moderate"><a href="/admin/accept-comment/{{ commentsAdmin.id }}" >ACCEPTER</a> - <a href="/admin/remove-comment/{{ commentsAdmin.id }}" >SUPPRIMER</a></td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    </tbody>

                </table>
        </div>

    </div>

</section>

{% endblock %}